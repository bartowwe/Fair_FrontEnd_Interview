{"ast":null,"code":"import _classCallCheck from \"/Users/bartowweiss/Documents/GitHub/Fair_FrontEnd_Interview/my-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/bartowweiss/Documents/GitHub/Fair_FrontEnd_Interview/my-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/bartowweiss/Documents/GitHub/Fair_FrontEnd_Interview/my-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/bartowweiss/Documents/GitHub/Fair_FrontEnd_Interview/my-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/bartowweiss/Documents/GitHub/Fair_FrontEnd_Interview/my-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/bartowweiss/Documents/GitHub/Fair_FrontEnd_Interview/my-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/bartowweiss/Documents/GitHub/Fair_FrontEnd_Interview/my-app/src/showroom.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport './App.css';\n\nvar ShowRoom =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ShowRoom, _Component);\n\n  function ShowRoom(props) {\n    var _this;\n\n    _classCallCheck(this, ShowRoom);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ShowRoom).call(this, props));\n    _this.state = {\n      id: props.id,\n      vehicle: {},\n      imageNum: 0,\n      image: '',\n      favorited: false\n    };\n    _this.favorite = props.favorite;\n    _this.checkFavorited = props.favorited;\n    _this.fetch = _this.fetch.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.imageGal = _this.imageGal.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.favoriteButton = _this.favoriteButton.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(ShowRoom, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      //selectively updates props from parent after checking if selected vehicle has changed\n      if (this.state.id !== nextProps.id) {\n        this.setState({\n          id: nextProps.id,\n          favorites: nextProps.favorites,\n          imageNum: 0,\n          image: '',\n          favorited: this.checkFavorited()\n        });\n        this.fetch(nextProps.id);\n      } else {\n        this.setState({\n          favorites: nextProps.favorites,\n          favorited: this.checkFavorited()\n        });\n      }\n    } //fetches the individual vehicle to be displayed\n\n  }, {\n    key: \"fetch\",\n    value: function fetch(id) {\n      var _this2 = this;\n\n      axios.get(\"https://private-4e19e-interviewapi3.apiary-mock.com/vehicles/\" + id).then(function (data) {\n        var v = data.data.data.vehicle;\n\n        _this2.setState({\n          vehicle: v,\n          image: v.image_location_list[0]\n        });\n      }).catch(function (res) {\n        if (res instanceof Error) {\n          _this2.setState({\n            vehicle: {\n              err: 'err'\n            }\n          });\n\n          console.log(\"Error is: \", res.message);\n        } else {\n          console.log(\"Other error: \", res.data);\n        }\n      });\n    } //Moves forward or backward through the image gallery depending the the direction of the arrow clicked\n\n  }, {\n    key: \"imageGal\",\n    value: function imageGal(num) {\n      var img = this.state.imageNum + num;\n\n      if (img < 0) {\n        img = this.state.vehicle.image_location_list.length - 1;\n      } else if (img > this.state.vehicle.image_location_list.length - 1) {\n        img = 0;\n      }\n\n      this.setState({\n        imageNum: img,\n        image: this.state.vehicle.image_location_list[img]\n      });\n    }\n  }, {\n    key: \"favoriteButton\",\n    value: function favoriteButton() {\n      var _this3 = this;\n\n      if (!this.state.favorited) {\n        return React.createElement(\"button\", {\n          className: \"favoriteButton\",\n          onClick: function onClick(e) {\n            _this3.favorite(_this3.state.vehicle);\n\n            e.preventDefault();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }, \"Favorite\");\n      }\n\n      return React.createElement(\"button\", {\n        className: \"favoriteButton\",\n        onClick: function onClick(e) {\n          _this3.favorite(_this3.state.vehicle);\n\n          e.preventDefault();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"Unfavorite\");\n    }\n  }, {\n    key: \"checkVehicle\",\n    value: function checkVehicle() {\n      var _this4 = this;\n\n      if (Object.keys(this.state.vehicle).length === 0) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        }, \"No Car is selected\");\n      } else if (Object.keys(this.state.vehicle).length === 1) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82\n          },\n          __self: this\n        }, \"There was an error retrieving car info\");\n      } else {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }, React.createElement(\"ul\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        }, React.createElement(\"li\", {\n          id: \"description\",\n          onClick: function onClick() {\n            _this4.imageGal(-1);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"arrow left\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        })), React.createElement(\"li\", {\n          id: \"description\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: this.state.image,\n          alt: \"\",\n          style: {\n            width: '500px',\n            'borderRadius': '10px'\n          },\n          onError: function onError() {\n            _this4.setState({\n              image: 'https://dubsism.files.wordpress.com/2017/12/image-not-found.png'\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90\n          },\n          __self: this\n        })), React.createElement(\"li\", {\n          id: \"description\",\n          onClick: function onClick() {\n            _this4.imageGal(1);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }, \" \", React.createElement(\"i\", {\n          className: \"arrow right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92\n          },\n          __self: this\n        }, \" (\", this.state.imageNum + 1, \"/\", this.state.vehicle.image_location_list.length, \")\")), React.createElement(\"div\", {\n          id: \"showroomText\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          id: \"showroomHeader\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95\n          },\n          __self: this\n        }, this.state.vehicle.model_year, \" \", this.state.vehicle.make, \" \", this.state.vehicle.model), React.createElement(\"div\", {\n          className: \"vehicalbox\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96\n          },\n          __self: this\n        }, React.createElement(\"ul\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97\n          },\n          __self: this\n        }, React.createElement(\"li\", {\n          id: \"description\",\n          style: {\n            textAlign: \"left\",\n            width: '200px'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          id: \"price\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100\n          },\n          __self: this\n        }, \"Trim: \", this.state.vehicle.trim), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101\n          },\n          __self: this\n        }, \"Miles: \", this.state.vehicle.mileage))), React.createElement(\"li\", {\n          id: \"description\",\n          style: {\n            textAlign: \"left\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          id: \"price\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106\n          },\n          __self: this\n        }, \"Start Fee: \", React.createElement(\"span\", {\n          style: {\n            color: '#FF651B'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106\n          },\n          __self: this\n        }, this.state.vehicle.product_financials[0].start_fee_cents / 100)), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107\n          },\n          __self: this\n        }, \"Monthly Fee: \", React.createElement(\"span\", {\n          style: {\n            color: '#FF651B'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107\n          },\n          __self: this\n        }, this.state.vehicle.product_financials[0].monthly_payment_cents / 100)))))), this.favoriteButton()));\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        id: \"showroomsub\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, this.checkVehicle());\n    }\n  }]);\n\n  return ShowRoom;\n}(Component);\n\nexport default ShowRoom;","map":{"version":3,"sources":["/Users/bartowweiss/Documents/GitHub/Fair_FrontEnd_Interview/my-app/src/showroom.js"],"names":["React","Component","axios","ShowRoom","props","state","id","vehicle","imageNum","image","favorited","favorite","checkFavorited","fetch","bind","imageGal","favoriteButton","nextProps","setState","favorites","get","then","data","v","image_location_list","catch","res","Error","err","console","log","message","num","img","length","e","preventDefault","Object","keys","width","model_year","make","model","textAlign","trim","mileage","color","product_financials","start_fee_cents","monthly_payment_cents","checkVehicle"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport './App.css';\n\nclass ShowRoom extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      id : props.id,\n      vehicle : {},\n      imageNum : 0,\n      image : '',\n      favorited : false,\n    };\n    this.favorite = props.favorite;\n    this.checkFavorited = props.favorited;\n    this.fetch = this.fetch.bind(this);\n    this.imageGal = this.imageGal.bind(this);\n    this.favoriteButton = this.favoriteButton.bind(this);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    //selectively updates props from parent after checking if selected vehicle has changed\n    if (this.state.id !== nextProps.id)\n    {\n      this.setState({ id: nextProps.id, favorites: nextProps.favorites, imageNum: 0, image: '', favorited: this.checkFavorited()})  \n      this.fetch(nextProps.id)\n    }\n    else\n    {\n      this.setState({ favorites: nextProps.favorites, favorited: this.checkFavorited()})  \n    }\n\n  }\n\n  //fetches the individual vehicle to be displayed\n  fetch(id){\n    axios.get(`https://private-4e19e-interviewapi3.apiary-mock.com/vehicles/` + id)\n      .then(data => {\n        let v = data.data.data.vehicle;\n        this.setState({vehicle : v, image: v.image_location_list[0]});\n      })\n      .catch(res => {\n        if(res instanceof Error) {\n          this.setState({vehicle : {err:'err'}})\n          console.log(\"Error is: \", res.message);\n        } else {\n          console.log(\"Other error: \", res.data);\n        }\n      });\n  }\n\n  //Moves forward or backward through the image gallery depending the the direction of the arrow clicked\n  imageGal(num){\n    let img = this.state.imageNum + num;\n    if (img < 0)\n    {\n      img = this.state.vehicle.image_location_list.length - 1;\n    }\n    else if (img > this.state.vehicle.image_location_list.length - 1)\n    {\n      img = 0;\n    }\n    this.setState({imageNum: img, image: this.state.vehicle.image_location_list[img]});\n  }\n\n  favoriteButton(){\n    if (!this.state.favorited){\n      return (<button className=\"favoriteButton\" onClick={(e) => {this.favorite(this.state.vehicle); e.preventDefault()}}>Favorite</button>)\n    }\n    return (<button className=\"favoriteButton\" onClick={(e) => {this.favorite(this.state.vehicle); e.preventDefault();}}>Unfavorite</button>)\n  }\n\n\n  checkVehicle() {\n    if (Object.keys(this.state.vehicle).length === 0)\n    {\n      return (<div>No Car is selected</div>)\n    }\n    else if (Object.keys(this.state.vehicle).length === 1)\n    {\n      return (<div>There was an error retrieving car info</div>)\n    }\n    else \n    {\n      return  (\n        <div>\n          <ul > \n            <li id=\"description\" onClick={() => {this.imageGal(-1)}}><i className=\"arrow left\"></i></li>\n            <li id=\"description\"><img src={this.state.image} alt='' style={{width: '500px', 'borderRadius':'10px'}} onError={() => { this.setState({image : 'https://dubsism.files.wordpress.com/2017/12/image-not-found.png'}) }}/></li>\n            <li id=\"description\" onClick={() => {this.imageGal(1)}}> <i className=\"arrow right\"></i></li>\n            <div> ({this.state.imageNum + 1}/{this.state.vehicle.image_location_list.length})</div>\n          </ul>\n          <div id=\"showroomText\">\n            <div id=\"showroomHeader\">{this.state.vehicle.model_year} {this.state.vehicle.make} {this.state.vehicle.model}</div>\n            <div className=\"vehicalbox\">\n              <ul>\n                <li id=\"description\" style={{textAlign: \"left\", width: '200px'}}>\n                    <div id=\"price\">\n                        <div>Trim: {this.state.vehicle.trim}</div>\n                        <div>Miles: {this.state.vehicle.mileage}</div>\n                    </div>\n                </li>\n                <li id=\"description\" style={{textAlign: \"left\"}}>\n                  <div id=\"price\">\n                        <div>Start Fee: <span style={{color: '#FF651B'}}>{this.state.vehicle.product_financials[0].start_fee_cents / 100}</span></div>\n                        <div>Monthly Fee: <span style={{color: '#FF651B'}}>{this.state.vehicle.product_financials[0].monthly_payment_cents / 100}</span></div>\n                  </div>\n                </li>\n              </ul>\n            </div>\n            {this.favoriteButton()}\n          </div>\n        </div>\n      )\n    }\n  }\n\n  render() {\n    return (\n        <div id='showroomsub'>\n            {this.checkVehicle()}\n        </div>\n    );\n  }\n}\n\nexport default ShowRoom;\n"]},"metadata":{},"sourceType":"module"}